<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title> || Dashboard ||</title>
  <link rel="stylesheet" href="../css/dashboard.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" 
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    
    /* dashboard.css */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  scroll-behavior: smooth;
}

body {
  background-color: #c4d7ef;
  color: #333;
  min-height: 100vh;
}

.container {
  display: flex;
  min-height: 100vh;
}

/* Navigation Sidebar */
nav {
  background-color: #1e2a78;
  color: #f2f4f4;
  width: 280px;
  display: flex;
  flex-direction: column;
  padding: 20px;
  position: relative;
}

nav img {
  width: 150px;
  margin-bottom: 30px;
  align-self: center;
}

nav ul {
  list-style: none;
  flex-grow: 1;
}

nav ul li {
  margin-bottom: 18px;
}

nav ul li a {
  display: flex;
  align-items: center;
  color: #f2f4f4;
  font-weight: 600;
  font-size: 1.05rem;
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 8px;
  transition: background-color 0.3s ease;
}

nav ul li a:hover,
nav ul li a.active {
  background-color: #3753db;
  color: #fff;
}

nav ul li a i {
  margin-right: 12px;
  font-size: 1.3rem;
}

/* Notification badge */
.notification {
  position: relative;
}

.notification .badge {
  position: absolute;
  top: -8px;
  right: -10px;
  padding: 4px 7px;
  background: #e94560;
  color: white;
  border-radius: 50%;
  font-weight: bold;
  font-size: 0.75rem;
  pointer-events: none;
}

/* Logout section */
.logout {
  margin-top: auto;
  padding-top: 20px;
  border-top: 1px solid #3753db;
}

.logout a {
  display: flex;
  align-items: center;
  color: #f2f4f4;
  font-weight: 600;
  font-size: 1.1rem;
  text-decoration: none;
  padding: 10px 12px;
  border-radius: 8px;
  transition: background-color 0.3s ease;
}

.logout a:hover {
  background-color: #e94560;
  color: white;
}

.logout a i {
  margin-right: 10px;
  font-size: 1.3rem;
}

/* Recent activity */
.recent-activity {
  margin-top: 20px;
}

.activity-log h2 {
  color: #f2f4f4;
  font-weight: 700;
  margin-bottom: 10px;
  cursor: pointer;
  user-select: none;
}

.activity-log ul {
  max-height: 150px;
  overflow-y: auto;
  background-color: #2c3ba0;
  border-radius: 8px;
  padding: 10px;
}

.activity-log ul li {
  background: #3f4db9;
  margin-bottom: 8px;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 0.9rem;
  color: #dce6ff;
}

/* Main content area */
.main {
  flex-grow: 1;
  padding: 30px 40px;
  background-color: white;
  overflow-y: auto;
}

/* Greeting */
#greeting-message {
  font-size: 2.1rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: #1e2a78;
}

/* Left container */
.leftcont p {
  font-size: 1.1rem;
  color: #555;
  margin-bottom: 30px;
}

/* Skills section */
.main-top {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 700;
  color: #1e2a78;
  margin-bottom: 12px;
  font-size: 1.8rem;
}

.main-skills {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 20px;
  margin-bottom: 40px;
}

.main-skills .card {
  background-color: #3753db;
  color: white;
  border-radius: 14px;
  padding: 25px 20px;
  box-shadow: 0 5px 12px rgba(55,83,219,0.35);
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  transition: transform 0.3s ease;
  cursor: pointer;
}

.main-skills .card:hover {
  transform: translateY(-8px);
  box-shadow: 0 8px 15px rgba(55,83,219,0.5);
}

.main-skills .card i {
  font-size: 2.8rem;
  margin-bottom: 12px;
}

.main-skills .card h3 {
  font-weight: 700;
  margin-bottom: 8px;
}

.main-skills .card p {
  font-size: 0.95rem;
  margin-bottom: 18px;
}

.main-skills .card button {
  background-color: #e94560;
  border: none;
  padding: 10px 22px;
  border-radius: 24px;
  font-weight: 700;
  color: white;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s ease;
}

.main-skills .card button:hover {
  background-color: #d7384f;
}

/* Our skills courses */
.main-course h1 {
  font-size: 1.9rem;
  font-weight: 700;
  color: #1e2a78;
  margin-bottom: 25px;
}

.skill-box ul {
  display: flex;
  gap: 25px;
  list-style: none;
  margin-bottom: 25px;
  padding-left: 0;
  font-weight: 600;
  cursor: pointer;
}

.skill-box ul li {
  padding: 8px 20px;
  border-radius: 30px;
  background-color: #dce6ff;
  color: #1e2a78;
  transition: background-color 0.3s ease;
  user-select: none;
}

.skill-box ul li.active,
.skill-box ul li:hover {
  background-color: #3753db;
  color: white;
}

.course {
  display: flex;
  gap: 25px;
  flex-wrap: wrap;
}

.course .box {
  background-color: #f3f6ff;
  border-radius: 14px;
  padding: 20px;
  flex: 1 1 250px;
  box-shadow: 0 4px 10px rgba(55, 83, 219, 0.15);
  position: relative;
}

.course .box h3 {
  font-weight: 700;
  margin-bottom: 10px;
  color: #1e2a78;
}

.course .box p {
  font-size: 1rem;
  margin-bottom: 20px;
  color: #555;
}

.course .box button {
  background-color: #3753db;
  border: none;
  padding: 9px 22px;
  border-radius: 24px;
  font-weight: 700;
  color: white;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s ease;
  margin-bottom: 10px;
}

.course .box button:hover {
  background-color: #2743b7;
}

.course .box i {
  font-size: 3rem;
  position: absolute;
  top: 20px;
  right: 20px;
  color: #3753db;
}

/* Articles */
.articles h1 {
  font-size: 1.9rem;
  font-weight: 700;
  color: #1e2a78;
  margin-bottom: 25px;
}

.article-box {
  display: flex;
  gap: 25px;
  flex-wrap: wrap;
  margin-bottom: 40px;
}

.article {
  background-color: #f3f6ff;
  border-radius: 14px;
  padding: 20px;
  flex: 1 1 280px;
  box-shadow: 0 4px 10px rgba(55, 83, 219, 0.15);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.article h3 {
  font-weight: 700;
  color: #1e2a78;
  margin-bottom: 15px;
}

.article i {
  color: #3753db;
  margin-left: 6px;
}

.article p {
  flex-grow: 1;
  font-size: 1rem;
  color: #555;
  margin-bottom: 20px;
}

.article button {
  background-color: #3753db;
  border: none;
  padding: 10px 24px;
  border-radius: 24px;
  font-weight: 700;
  color: white;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s ease;
  align-self: flex-start;
}

.article button:hover {
  background-color: #2743b7;
}

/* Scrollbar for activity list */
.activity-log ul::-webkit-scrollbar {
  width: 7px;
}

.activity-log ul::-webkit-scrollbar-thumb {
  background-color: #3753db;
  border-radius: 10px;
}

.activity-log ul::-webkit-scrollbar-track {
  background-color: #dce6ff;
  border-radius: 10px;
}

/* Responsive */
@media (max-width: 900px) {
  .container {
    flex-direction: column;
  }

  nav {
    width: 100%;
    flex-direction: row;
    padding: 10px 15px;
    align-items: center;
    overflow-x: auto;
  }

  nav img {
    margin-bottom: 0;
    margin-right: 20px;
    width: 100px;
  }

  nav ul {
    display: flex;
    flex-wrap: nowrap;
    gap: 15px;
  }

  nav ul li {
    margin-bottom: 0;
  }

  nav ul li a {
    font-size: 0.95rem;
    padding: 6px 10px;
  }

  .logout {
    margin-top: 0;
    padding-top: 0;
    border-top: none;
  }

  .main {
    padding: 20px 15px;
  }

  .main-skills {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }

  .article-box {
    flex-direction: column;
  }
}

@media (max-width: 480px) {
  .main-top h1 {
    font-size: 1.4rem;
  }
  .main-skills .card h3 {
    font-size: 1.1rem;
  }
  .course .box h3 {
    font-size: 1.3rem;
  }
  .articles h1 {
    font-size: 1.4rem;
  }
  .article {
    flex: 1 1 100%;
  }
}
/* prolff */
 .profile-container {
      background: rgb(178, 173, 173);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      width: 350px;
      text-align: center;
    }
    h1 {
      margin-bottom: 1rem;
      color: #333;
    }
    .info {
      text-align: left;
      margin-bottom: 1.5rem;
    }
    .info p {
      margin: 0.5rem 0;
      font-size: 1rem;
    }

  </style>
</head>
<body>
  <div class="container">
    <nav>
      <img src="/assets/logo2.png" alt="Logo" />
      <ul>
        <li><a href='/index.html'><i class="fa-solid fa-house"></i>Home</a></li>
        <li><a href='./about.html'><i class="fa-regular fa-address-card"></i>About Us</a></li>
        <li><a href='/dashboardwork.html/contact2.html'><i class="fa-solid fa-phone"></i>Contact</a></li>
        <li><a href='/dashboardwork.html/portiforiol.html'><i class="fa-solid fa-briefcase"></i>Portfolio</a></li>
        <li><a href='./bloag.html'><i class="fa-solid fa-blog"></i>Blogs</a></li>
        <li><a href='/dashboardwork.html/comment.html'><i class="fa-solid fa-comment"></i>Comments</a></li>
        <li>
          <a href='/dashboardwork.html/notification.html' class="notification" id="notificationBell">
            <i class="fa-solid fa-bell"></i>
            <span class="badge" id="notificationCount" style="display:none;">0</span>
          </a>
        </li>
        <li><a href='/dashboardwork.html/profile.html'><i class="fa-solid fa-user"></i>Profile</a></li>
      </ul>
      <div class="logout">
        <a href="./signup.html" id="logoutBtn"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</a>
      </div>
      <div class="recent-activity">
        <div class="activity-log">
          <a href="#"><h2>Recent Activity</h2></a>
          <ul id="activity-list"></ul>
        </div>
      </div>
    </nav>

    <section class="main">
      <div class="leftcont">
        <h1 id="greeting-message">Welcome!</h1>
        <p>This is your personalized dashboard.</p>
      </div>
       <div class="profile-container">
    <h1>Your Profile</h1>
    <div class="info" id="userInfo">
      <!-- User info will be loaded here -->
    </div>
  </div>

      <div class="main-top">
        <h1>Skills</h1>
        <i class="fa-regular fa-star"></i>
      </div>

      <div class="main-skills">
        <div class="card"><i class="fa-solid fa-laptop-code"></i><h3>Web Development</h3><p>Join Over 10 developers.</p><button>Get Started</button></div>
        <div class="card"><i class="fab fa-wordpress"></i><h3>WordPress</h3><p>Join Over 10 developers.</p><button>Get Started</button></div>
        <div class="card"><i class="fa-brands fa-windows"></i><h3>Windows Update</h3><p>Join Over 10 developers.</p><button>Get Started</button></div>
        <div class="card"><i class="fas fa-palette"></i><h3>Graphic Design</h3><p>Join Over 10 developers.</p><button>Get Started</button></div>
        <div class="card"><i class="fa-brands fa-app-store-ios"></i><h3>iOS Dev</h3><p>Join Over 10 developers.</p><button>Get Started</button></div>
      </div>

      <section class="main-course">
        <h1>Our Skills</h1>
        <div class="skill-box">
          <ul>
            <li class="active">In Progress</li>
            <li>Explore</li>
            <li>Incoming</li>
            <li>Finished</li>
          </ul>
          <div class="course">
            <div class="box"><h3>HTML</h3><p>80% - progress</p><button>Continue</button><i class="fa-brands fa-html5"></i></div>
            <div class="box"><h3>CSS</h3><p>90% - progress</p><button>Continue</button><i class="fa-brands fa-css3-alt"></i></div>
            <div class="box"><h3>JavaScript</h3><p>20% - progress</p><button>Continue</button><i class="fa-brands fa-js-square"></i></div>
          </div>
        </div>
      </section>

      <section class="articles">
        <h1>Articles <i class="fa-regular fa-newspaper"></i></h1>
        <div class="article-box">
          <div class="article"><h3>HTML Basics <i class="fa-solid fa-code"></i></h3><p>Learn the fundamentals of HTML.</p><button>Read More</button></div>
          <div class="article"><h3>CSS Styling <i class="fa-solid fa-file-code"></i></h3><p>Discover how to style your web pages.</p><button>Read More</button></div>
          <div class="article"><h3>JavaScript Essentials</h3><p>Make your web pages interactive.</p><button>Read More</button></div>
        </div>
        <div class="article-box">
          <div class="article"><h3>Responsive Design <i class="fa-solid fa-expand"></i></h3><p>Design for all screen sizes.</p><button>Read More</button></div>
          <div class="article"><h3>Web Accessibility</h3><p>Make your websites inclusive.</p><button>Read More</button></div>
          <div class="article"><h3>SEO Basics</h3><p>Optimize your website for search engines.</p><button>Read More</button></div>
        </div>
      </section>
    </section>
  </div>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/68422061f260ec190dd28611/1it14t08c';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
  <script>
    // Check if user is logged in
    const user = JSON.parse(localStorage.getItem('loggedInUser'));
    if (!user) {
      alert("You must be logged in to view the dashboard.");
      window.location.href = "signup.html";
    }

    // Greeting with time
    function displayGreeting() {
      const hour = new Date().getHours();
      const name = user?.username || "User";
      let greeting = "Hello";
      if (hour < 12) greeting = "Good morning";
      else if (hour < 18) greeting = "Good afternoon";
      else greeting = "Good evening";
      document.getElementById("greeting-message").textContent = `${greeting}, ${name}! 👋`;
    }

    // Notifications: get messages from localStorage
    function getNotifications() {
      return JSON.parse(localStorage.getItem('notifications') || '[]');
    }

    // Recent activity: get activities from localStorage
    function getRecentActivities() {
      return JSON.parse(localStorage.getItem('recentActivities') || '[]');
    }

    // Render notifications badge
    function renderNotificationCount() {
      const notifications = getNotifications();
      const count = notifications.length;
      const badge = document.getElementById('notificationCount');
      if (count > 0) {
        badge.style.display = 'inline-block';
        badge.textContent = count;
      } else {
        badge.style.display = 'none';
      }
    }

    // Render recent activities list
    function renderRecentActivities() {
      const activities = getRecentActivities();
      const activityList = document.getElementById('activity-list');
      activityList.innerHTML = ''; // Clear existing

      if (activities.length === 0) {
        const li = document.createElement('li');
        li.textContent = 'No recent activities.';
        activityList.appendChild(li);
        return;
      }

      activities.forEach(activity => {
        const li = document.createElement('li');
        li.textContent = activity;
        activityList.appendChild(li);
      });
    }

    // Demo: Add sample notifications & activities if none exist
    function addDemoData() {
      if (!localStorage.getItem('notifications')) {
        const demoNotifications = [
          'New comment on your blog post.',
          'Your profile was viewed 5 times today.',
          'You have 3 new messages.'
        ];
        localStorage.setItem('notifications', JSON.stringify(demoNotifications));
      }
      if (!localStorage.getItem('recentActivities')) {
        const demoActivities = [
          'Logged in to the dashboard',
          'Updated profile information',
          'Published a new blog post',
          'Commented on a portfolio project'
        ];
        localStorage.setItem('recentActivities', JSON.stringify(demoActivities));
      }
    }

    // Logout
    document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("loggedInUser");
      localStorage.removeItem("userLocation");
      window.location.href = "signup.html";
    });

    // Init dashboard
    addDemoData();
    displayGreeting();
    renderNotificationCount();
    renderRecentActivities();

    // Use the already declared 'user' variable

    if (!user) {
      alert('You must be logged in to view this page.');
      window.location.href = 'signup.html';  // Redirect to login if not logged in
    } else {
      const userInfoDiv = document.getElementById('userInfo');
      
      // Display user info - you can add more fields if you store them
      userInfoDiv.innerHTML = `
        <p><strong>Username:</strong> ${user.username}</p>
        <p><strong>Email:</strong> ${user.email || 'Not available'}</p>
      `;
    }
  </script>
</body>
</html>
